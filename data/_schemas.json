{
  "alerts": {
    "fields": {
      "id": {
        "type": "text"
      },
      "title": {
        "type": "text"
      },
      "content": {
        "type": "text"
      },
      "isRead": {
        "type": "boolean",
        "default": false
      },
      "createdAt": {
        "type": "datetime"
      },
      "updatedAt": {
        "type": "datetime"
      }
    },
    "constraints": {
      "primary": ["id"],
      "foreign": {},
      "unique": [],
      "required": ["title", "content"]
    }
  },
  "currencies": {
    "fields": {
      "id": {
        "type": "text"
      },
      "code": {
        "type": "text"
      },
      "symbol": {
        "type": "text"
      },
      "exchangeRate": {
        "type": "number"
      },
      "effectiveStart": {
        "type": "date"
      },
      "effectiveEnd": {
        "type": "date"
      },
      "createdAt": {
        "type": "datetime"
      },
      "updatedAt": {
        "type": "datetime"
      }
    },
    "constraints": {
      "primary": ["id"],
      "foreign": {},
      "unique": ["code|symbol|effectiveStart"],
      "required": ["code", "symbol", "exchangeRate", "effectiveStart"]
    }
  },
  "tags": {
    "fields": {
      "id": {
        "type": "text"
      },
      "category": {
        "type": "text"
      },
      "name": {
        "type": "text"
      },
      "description": {
        "type": "text"
      },
      "textColor": {
        "type": "text"
      },
      "backgroundColor": {
        "type": "text"
      },
      "createdAt": {
        "type": "datetime"
      },
      "updatedAt": {
        "type": "datetime"
      }
    },
    "constraints": {
      "primary": ["id"],
      "foreign": {},
      "unique": ["category|name"],
      "required": ["category", "name"]
    },
    "indexes": {
      "filter": {
        "category": { "match": true }
      }
    }
  },
  "transactions": {
    "fields": {
      "id": {
        "type": "text"
      },
      "type": {
        "type": "enum",
        "enums": {
          "income": "Income",
          "expense": "Expense",
          "incomeReversal": "Income Reversal",
          "expenseReversal": "Expense Reversal"
        }
      },
      "transactionDate": {
        "type": "date"
      },
      "description": {
        "type": "text"
      },
      "amount": {
        "type": "number"
      },
      "homeCurrencyAmount": {
        "type": "number"
      },
      "tags": {
        "type": "array",
        "default": []
      },
      "currencyId": {
        "type": "text"
      },
      "associatedTransactionId": {
        "type": "text"
      },
      "createdAt": {
        "type": "datetime"
      },
      "updatedAt": {
        "type": "datetime"
      }
    },
    "constraints": {
      "primary": ["id"],
      "foreign":{
        "tags": {
          "reference": "tags",
          "primary": "id"
        },
        "currencyId": {
          "reference": "currencies",
          "primary": "id"
        },
        "associatedTransactionId": {
          "reference": "transactions",
          "primary": "id"
        }
      },
      "unique": [],
      "required": [
        "type",
        "transactionDate",
        "description",
        "amount",
        "homeCurrencyAmount",
        "tags",
        "currencyId"
      ]
    },
    "indexes": {
      "filter": {
        "type": {},
        "currencyId": {}
      }
    }
  },
  "work_logs": {
    "fields": {
      "id": {
        "type": "text"
      },
      "startTime": {
        "type": "datetime"
      },
      "endTime": {
        "type": "datetime"
      },
      "description": {
        "type": "text"
      },
      "content": {
        "type": "text"
      },
      "tags": {
        "type": "array",
        "default": []
      },
      "createdAt": {
        "type": "datetime"
      },
      "updatedAt": {
        "type": "datetime"
      }
    },
    "constraints": {
      "primary": ["id"],
      "foreign": {
        "tags": {
          "reference": "tags",
          "primary": "id"
        }
      },
      "unique": [],
      "required": []
    }
  }
}
