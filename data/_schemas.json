{
  "alerts": {
    "fields": {
      "id": {
        "type": "text"
      },
      "title": {
        "type": "text"
      },
      "content": {
        "type": "text"
      },
      "isRead": {
        "type": "boolean",
        "default": false
      },
      "createdAt": {
        "type": "datetime"
      },
      "updatedAt": {
        "type": "datetime"
      }
    },
    "constraints": {
      "primary": ["id"],
      "foreign": {},
      "unique": [],
      "required": ["title", "content"]
    }
  },
  "billing_configs": {
    "fields": {
      "id": {
        "type": "text"
      },
      "effectiveStart": {
        "type": "datetime"
      },
      "effectiveEnd": {
        "type": "datetime"
      },
      "rateType": {
        "type": "enum",
        "default": "duration",
        "enums": {
          "duration": "Duration",
          "count": "Count",
          "fixed": "Fixed"
        }
      },
      "unit": {
        "type": "enum",
        "default": "hour",
        "enums": {
          "hour": "Hour",
          "minute": "Minute"
        }
      },
      "unitCost": {
        "type": "number"
      },
      "includeTags": {
        "type": "array",
        "default": []
      },
      "excludeTags": {
        "type": "array",
        "default": []
      },
      "contactId": {
        "type": "text"
      },
      "createdAt": {
        "type": "datetime"
      },
      "updatedAt": {
        "type": "datetime"
      }
    },
    "constraints": {
      "primary": ["id"],
      "foreign": {
        "includeTags": {
          "reference": "tags",
          "primary": "id"
        },
        "excludeTags": {
          "reference": "tags",
          "primary": "id"
        },
        "contactId": {
          "reference": "contacts",
          "primary": "id"
        }
      },
      "unique": [],
      "required": [
        "effectiveStart",
        "rateType",
        "unit",
        "unitCost",
        "includeTags",
        "excludeTags",
        "contactId"
      ]
    },
    "indexes": {
      "filter": {
        "includeTags": {},
        "excludeTags": {},
        "contactId": {}
      }
    }
  },
  "contacts": {
    "fields": {
      "id": {
        "type": "text"
      },
      "name": {
        "type": "text"
      },
      "accountNumber": {
        "type": "text"
      },
      "addressLine1": {
        "type": "text"
      },
      "addressLine2": {
        "type": "text"
      },
      "addressLine3": {
        "type": "text"
      },
      "city": {
        "type": "text"
      },
      "state": {
        "type": "text"
      },
      "country": {
        "type": "text"
      },
      "postcode": {
        "type": "text"
      },
      "contactNumber1": {
        "type": "text"
      },
      "contactNumber2": {
        "type": "text"
      },
      "contactNumber3": {
        "type": "text"
      },
      "contactPerson1": {
        "type": "text"
      },
      "contactPerson2": {
        "type": "text"
      },
      "contactPerson3": {
        "type": "text"
      },
      "contactEmail1": {
        "type": "text"
      },
      "contactEmail2": {
        "type": "text"
      },
      "contactEmail3": {
        "type": "text"
      },
      "url1": {
        "type": "text"
      },
      "url2": {
        "type": "text"
      },
      "url3": {
        "type": "text"
      },
      "logo": {
        "type": "file"
      },
      "customFields": {
        "type": "object"
      },
      "createdAt": {
        "type": "datetime"
      },
      "updatedAt": {
        "type": "datetime"
      }
    },
    "constraints": {
      "primary": ["id"],
      "foreign": {
        "country": {
          "reference": "countries",
          "primary": "alpha3Code"
        }
      },
      "unique": [],
      "required": ["name"]
    },
    "indexes": {
      "filter": {
        "name": { "match": true }
      }
    }
  },
  "countries": {
    "fields": {
      "alpha3Code": {
        "type": "text"
      },
      "countryName": {
        "type": "text"
      }
    },
    "constraints": {
      "primary": ["alpha3Code"],
      "foreign": {},
      "unique": [],
      "required": []
    }
  },
  "currencies": {
    "fields": {
      "id": {
        "type": "text"
      },
      "code": {
        "type": "text"
      },
      "symbol": {
        "type": "text"
      },
      "exchangeRate": {
        "type": "number"
      },
      "effectiveStart": {
        "type": "date"
      },
      "effectiveEnd": {
        "type": "date"
      },
      "createdAt": {
        "type": "datetime"
      },
      "updatedAt": {
        "type": "datetime"
      }
    },
    "constraints": {
      "primary": ["id"],
      "foreign": {},
      "unique": ["code|symbol|effectiveStart"],
      "required": ["code", "symbol", "exchangeRate", "effectiveStart"]
    },
    "indexes": {
      "filter": {
        "code": { "match": true }
      }
    }
  },
  "invoice_configs": {
    "fields": {
      "id": {
        "type": "text"
      },
      "invoiceCycleDurationValue": {
        "type": "number",
        "default": 1
      },
      "invoiceCycleDurationUnit": {
        "type": "enum",
        "default": "month",
        "enums": {
          "month": "Month",
          "week": "Week",
          "day": "Day"
        }
      },
      "dueDateCycleValue": {
        "type": "number",
        "default": 30
      },
      "dueDateCycleUnit": {
        "type": "enum",
        "default": "day",
        "enums": {
          "month": "Month",
          "week": "Week",
          "day": "Day"
        }
      },
      "paymentTerms": {
        "type": "text"
      },
      "tags": {
        "type": "array",
        "default": []
      },
      "customFields": {
        "type": "object",
        "default": {}
      },
      "invoiceNumberSequenceId": {
        "type": "text"
      },
      "billingContactId": {
        "type": "text"
      },
      "invoiceTemplateId": {
        "type": "text"
      },
      "createdAt": {
        "type": "datetime"
      },
      "updatedAt": {
        "type": "datetime"
      }
    },
    "constraints": {
      "primary": ["id"],
      "foreign": {
        "invoiceNumberSequenceId": {
          "reference": "sequences",
          "primary": "id"
        },
        "billingContactId": {
          "reference": "contacts",
          "primary": "id"
        }
      },
      "unique": [],
      "required": [
        "invoiceCycleDurationValue",
        "invoiceCycleDurationUnit",
        "dueDateCycleValue",
        "dueDateCycleUnit",
        "tags",
        "customFields",
        "invoiceNumberSequenceId",
        "billingContactId"
      ]
    },
    "indexes": {
      "filter": {
        "tags": {},
        "invoiceNumberSequenceId": {},
        "billingContactId": {},
        "invoiceTemplateId": {}
      }
    }
  },
  "sequences": {
    "fields": {
      "id": {
        "type": "text"
      },
      "name": {
        "type": "text"
      },
      "startingNumber": {
        "type": "number",
        "default": 1
      },
      "lastUsedNumber": {
        "type": "number",
        "default": 1
      },
      "incrementStep": {
        "type": "number",
        "default": 1
      },
      "prefix": {
        "type": "text"
      },
      "suffix": {
        "type": "text"
      },
      "createdAt": {
        "type": "datetime"
      },
      "updatedAt": {
        "type": "datetime"
      }
    },
    "constraints": {
      "primary": ["id"],
      "foreign": {},
      "unique": [],
      "required": ["name", "startingNumber", "lastUsedNumber", "incrementStep"]
    },
    "indexes": {
      "filter": {
        "name": { "match": true },
        "prefix": { "match": true },
        "suffix": { "match": true }
      }
    }
  },
  "tags": {
    "fields": {
      "id": {
        "type": "text"
      },
      "category": {
        "type": "text"
      },
      "name": {
        "type": "text"
      },
      "description": {
        "type": "text"
      },
      "textColor": {
        "type": "text"
      },
      "backgroundColor": {
        "type": "text"
      },
      "createdAt": {
        "type": "datetime"
      },
      "updatedAt": {
        "type": "datetime"
      }
    },
    "constraints": {
      "primary": ["id"],
      "foreign": {},
      "unique": ["category|name"],
      "required": ["category", "name"]
    },
    "indexes": {
      "filter": {
        "category": { "match": true }
      }
    }
  },
  "transactions": {
    "fields": {
      "id": {
        "type": "text"
      },
      "type": {
        "type": "enum",
        "enums": {
          "income": "Income",
          "expense": "Expense",
          "incomeReversal": "Income Reversal",
          "expenseReversal": "Expense Reversal"
        }
      },
      "transactionDate": {
        "type": "date"
      },
      "description": {
        "type": "text"
      },
      "amount": {
        "type": "number"
      },
      "homeCurrencyAmount": {
        "type": "number"
      },
      "tags": {
        "type": "array",
        "default": []
      },
      "currencyId": {
        "type": "text"
      },
      "associatedTransactionId": {
        "type": "text"
      },
      "createdAt": {
        "type": "datetime"
      },
      "updatedAt": {
        "type": "datetime"
      }
    },
    "constraints": {
      "primary": ["id"],
      "foreign":{
        "tags": {
          "reference": "tags",
          "primary": "id"
        },
        "currencyId": {
          "reference": "currencies",
          "primary": "id"
        },
        "associatedTransactionId": {
          "reference": "transactions",
          "primary": "id"
        }
      },
      "unique": [],
      "required": [
        "type",
        "transactionDate",
        "description",
        "amount",
        "homeCurrencyAmount",
        "tags",
        "currencyId"
      ]
    },
    "indexes": {
      "filter": {
        "type": {},
        "currencyId": {}
      }
    }
  },
  "work_logs": {
    "fields": {
      "id": {
        "type": "text"
      },
      "startTime": {
        "type": "datetime"
      },
      "endTime": {
        "type": "datetime"
      },
      "description": {
        "type": "text"
      },
      "content": {
        "type": "text"
      },
      "tags": {
        "type": "array",
        "default": []
      },
      "createdAt": {
        "type": "datetime"
      },
      "updatedAt": {
        "type": "datetime"
      }
    },
    "constraints": {
      "primary": ["id"],
      "foreign": {
        "tags": {
          "reference": "tags",
          "primary": "id"
        }
      },
      "unique": [],
      "required": []
    },
    "indexes": {
      "filter": {
        "tags": {}
      }
    }
  }
}
